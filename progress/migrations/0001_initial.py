# Generated by Django 5.2.7 on 2025-10-25 10:06

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('content', '0002_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Achievement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField()),
                ('achievement_type', models.CharField(choices=[('first_lesson', '–ü–µ—Ä–≤—ã–π —É—Ä–æ–∫'), ('perfect_lesson', '–ò–¥–µ–∞–ª—å–Ω—ã–π —É—Ä–æ–∫'), ('streak_3', '–°–µ—Ä–∏—è 3 –¥–Ω—è'), ('streak_7', '–°–µ—Ä–∏—è 7 –¥–Ω–µ–π'), ('streak_30', '–°–µ—Ä–∏—è 30 –¥–Ω–µ–π'), ('block_completed', '–ë–ª–æ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω'), ('words_100', '100 —Å–ª–æ–≤ –≤—ã—É—á–µ–Ω–æ'), ('words_500', '500 —Å–ª–æ–≤ –≤—ã—É—á–µ–Ω–æ'), ('words_1000', '1000 —Å–ª–æ–≤ –≤—ã—É—á–µ–Ω–æ'), ('speed_learner', '–ë—ã—Å—Ç—Ä—ã–π —É—á–µ–Ω–∏–∫')], max_length=50)),
                ('icon', models.CharField(default='üèÜ', max_length=50)),
                ('condition', models.JSONField(default=dict)),
            ],
            options={
                'verbose_name': '–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ',
                'verbose_name_plural': '–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è',
            },
        ),
        migrations.CreateModel(
            name='StudySession',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('start_time', models.DateTimeField(auto_now_add=True)),
                ('end_time', models.DateTimeField(blank=True, null=True)),
                ('duration', models.PositiveIntegerField(default=0)),
                ('average_accuracy', models.FloatField(default=0)),
                ('lessons_studied', models.ManyToManyField(blank=True, to='content.lesson')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='study_sessions', to=settings.AUTH_USER_MODEL)),
                ('words_reviewed', models.ManyToManyField(blank=True, to='content.word')),
            ],
            options={
                'verbose_name': '–°–µ—Å—Å–∏—è –∏–∑—É—á–µ–Ω–∏—è',
                'verbose_name_plural': '–°–µ—Å—Å–∏–∏ –∏–∑—É—á–µ–Ω–∏—è',
                'ordering': ['-start_time'],
            },
        ),
        migrations.CreateModel(
            name='UserStats',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('total_study_time', models.PositiveIntegerField(default=0)),
                ('total_sessions', models.PositiveIntegerField(default=0)),
                ('current_streak', models.PositiveIntegerField(default=0)),
                ('longest_streak', models.PositiveIntegerField(default=0)),
                ('last_active', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='stats', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': '–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',
                'verbose_name_plural': '–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π',
            },
        ),
        migrations.CreateModel(
            name='BlockProgress',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('is_completed', models.BooleanField(default=False)),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('overall_accuracy', models.FloatField(default=0)),
                ('lessons_completed', models.PositiveIntegerField(default=0)),
                ('total_lessons', models.PositiveIntegerField(default=0)),
                ('block', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='user_progress', to='content.block')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='block_progress', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': '–ü—Ä–æ–≥—Ä–µ—Å—Å –±–ª–æ–∫–∞',
                'verbose_name_plural': '–ü—Ä–æ–≥—Ä–µ—Å—Å –±–ª–æ–∫–æ–≤',
                'unique_together': {('user', 'block')},
            },
        ),
        migrations.CreateModel(
            name='DailyProgress',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField(auto_now_add=True)),
                ('words_learned', models.PositiveIntegerField(default=0)),
                ('lessons_completed', models.PositiveIntegerField(default=0)),
                ('time_studied', models.PositiveIntegerField(default=0)),
                ('accuracy', models.FloatField(default=0)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='daily_progress', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': '–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å',
                'verbose_name_plural': '–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å',
                'ordering': ['-date'],
                'unique_together': {('user', 'date')},
            },
        ),
        migrations.CreateModel(
            name='LessonProgress',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('is_completed', models.BooleanField(default=False)),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('accuracy', models.FloatField(default=0)),
                ('time_spent', models.PositiveIntegerField(default=0)),
                ('lesson', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='user_progress', to='content.lesson')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lesson_progress', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': '–ü—Ä–æ–≥—Ä–µ—Å—Å —É—Ä–æ–∫–∞',
                'verbose_name_plural': '–ü—Ä–æ–≥—Ä–µ—Å—Å —É—Ä–æ–∫–æ–≤',
                'unique_together': {('user', 'lesson')},
            },
        ),
        migrations.CreateModel(
            name='UserAchievement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('earned_at', models.DateTimeField(auto_now_add=True)),
                ('achievement', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='progress.achievement')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='achievements', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': '–ü–æ–ª—É—á–µ–Ω–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ',
                'verbose_name_plural': '–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è',
                'unique_together': {('user', 'achievement')},
            },
        ),
    ]
